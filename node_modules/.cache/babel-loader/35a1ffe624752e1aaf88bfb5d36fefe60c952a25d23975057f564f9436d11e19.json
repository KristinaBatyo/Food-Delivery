{"ast":null,"code":"import _objectSpread from\"/Users/hristinabato/Desktop/Food-Delivery/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/hristinabato/Desktop/Food-Delivery/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Routes,Route}from\"react-router-dom\";import ShopsPage from\"./components/ShopsPage\";import CartPage from\"./components/CartPage\";import{Nav,Container,StyledNavLink}from\"./styles/App.styled\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(function(){var storedCartItems=localStorage.getItem(\"cartItems\");return storedCartItems?JSON.parse(storedCartItems):{};}),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];useEffect(function(){localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));},[cartItems]);var handleAddToCart=function handleAddToCart(product,shop,price){setCartItems(function(prevCartItems){var updatedItems=_objectSpread({},prevCartItems);if(updatedItems[shop]){var itemExists=updatedItems[shop].find(function(item){return item.id===product.id;});if(itemExists){itemExists.quantity+=1;}else{updatedItems[shop].push(_objectSpread(_objectSpread({},product),{},{quantity:1,price:price}));}}else{updatedItems[shop]=[_objectSpread(_objectSpread({},product),{},{quantity:1,price:price})];}return updatedItems;});localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(StyledNavLink,{to:\"/\",end:true,children:\"ShopsPage\"}),/*#__PURE__*/_jsx(StyledNavLink,{to:\"/cart\",children:\"Cart\"})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ShopsPage,{handleAddToCart:handleAddToCart})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(CartPage,{cartItems:cartItems,setCartItems:setCartItems})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","ShopsPage","CartPage","Nav","Container","StyledNavLink","jsx","_jsx","jsxs","_jsxs","App","_useState","storedCartItems","localStorage","getItem","JSON","parse","_useState2","_slicedToArray","cartItems","setCartItems","setItem","stringify","handleAddToCart","product","shop","price","prevCartItems","updatedItems","_objectSpread","itemExists","find","item","id","quantity","push","children","to","end","path","element"],"sources":["/Users/hristinabato/Desktop/Food-Delivery/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport ShopsPage from \"./components/ShopsPage\";\nimport CartPage from \"./components/CartPage\";\nimport { Nav, Container, StyledNavLink } from \"./styles/App.styled\";\n\nconst App = () => {\n  const [cartItems, setCartItems] = useState(() => {\n    const storedCartItems = localStorage.getItem(\"cartItems\");\n    return storedCartItems ? JSON.parse(storedCartItems) : {};\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  }, [cartItems]);\n\nconst handleAddToCart = (product, shop, price) => {\n  setCartItems((prevCartItems) => {\n    const updatedItems = { ...prevCartItems };\n    if (updatedItems[shop]) {\n      const itemExists = updatedItems[shop].find(\n        (item) => item.id === product.id\n      );\n      if (itemExists) {\n        itemExists.quantity += 1;\n      } else {\n        updatedItems[shop].push({ ...product, quantity: 1, price });\n      }\n    } else {\n      updatedItems[shop] = [{ ...product, quantity: 1, price }];\n    }\n    return updatedItems;\n  });\n\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n};\n\n\n\n\n  return (\n    <Container>\n      <Nav>\n        <StyledNavLink to=\"/\" end>\n          ShopsPage\n        </StyledNavLink>\n        <StyledNavLink to=\"/cart\">Cart</StyledNavLink>\n      </Nav>\n      <Routes>\n        <Route\n          path=\"/\"\n          element={<ShopsPage handleAddToCart={handleAddToCart} />}\n        />\n        <Route\n          path=\"/cart\"\n          element={\n            <CartPage cartItems={cartItems} setCartItems={setCartItems} />\n          }\n        />\n      </Routes>\n    </Container>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}